export const __webpack_ids__=["8766"];export const __webpack_modules__={55228:function(e,t,i){i.a(e,(async function(e,t){try{var a=i(73742),s=i(59048),o=i(7616),r=i(39884),n=i(98921),l=i(86420),d=i(58125),h=i(23378),c=i(51574),p=i(97050),_=i(87639),u=(i(12692),i(81777),i(993),i(32918)),m=i(23476),y=e([u,m]);[u,m]=y.then?(await y)():y;const v="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",b="M7,10L12,15L17,10H7Z",g="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z";class f extends s.oi{firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title")}_renderContent(){const e=this.value||"";if(!this.value)return s.dy` <span slot="headline" class="placeholder">${this.placeholder??this.hass.localize("ui.components.entity.entity-picker.placeholder")}</span> <ha-svg-icon class="edit" slot="end" .path="${b}"></ha-svg-icon> `;const t=this.hass.states[e],i=!this.required&&!this.disabled&&!this.hideClearIcon;if(!t)return s.dy` <ha-svg-icon slot="start" .path="${g}"></ha-svg-icon> <span slot="headline">${e}</span> ${i?s.dy`<ha-icon-button class="clear" slot="end" @click="${this._clear}" .path="${v}"></ha-icon-button>`:s.Ld} <ha-svg-icon class="edit" slot="end" .path="${b}"></ha-svg-icon> `;const{area:a,device:o}=(0,c.U)(t,this.hass),r=(0,h.K)(t,this.hass),n=o?(0,d.jL)(o):void 0,_=a?(0,l.D)(a):void 0,u=(0,p.HE)(this.hass),m=r||n||e,y=[_,r?n:void 0].filter(Boolean).join(u?" ◂ ":" ▸ ");return s.dy` <state-badge .hass="${this.hass}" .stateObj="${t}" slot="start"></state-badge> <span slot="headline">${m}</span> <span slot="supporting-text">${y}</span> ${i?s.dy`<ha-icon-button class="clear" slot="end" @click="${this._clear}" .path="${v}"></ha-icon-button>`:s.Ld} <ha-svg-icon class="edit" slot="end" .path="${b}"></ha-svg-icon> `}render(){return s.dy` ${this.label?s.dy`<label>${this.label}</label>`:s.Ld} <div class="container"> ${this._opened?s.dy`<ha-entity-combo-box id="input" .hass="${this.hass}" .autofocus="${this.autofocus}" .allowCustomEntity="${this.allowCustomEntity}" .label="${this.hass.localize("ui.common.search")}" .value="${this.value}" .createDomains="${this.createDomains}" .includeDomains="${this.includeDomains}" .excludeDomains="${this.excludeDomains}" .includeDeviceClasses="${this.includeDeviceClasses}" .includeUnitOfMeasurement="${this.includeUnitOfMeasurement}" .includeEntities="${this.includeEntities}" .excludeEntities="${this.excludeEntities}" .entityFilter="${this.entityFilter}" hide-clear-icon @opened-changed="${this._debounceOpenedChanged}" @input="${n.U}"></ha-entity-combo-box>`:s.dy`<ha-combo-box-item .disabled="${this.disabled}" id="anchor" type="button" compact="compact" @click="${this._showPicker}"> ${this._renderContent()} </ha-combo-box-item>`} ${this._renderHelper()} </div> `}_renderHelper(){return this.helper?s.dy`<ha-input-helper-text>${this.helper}</ha-input-helper-text>`:s.Ld}_clear(e){e.stopPropagation(),this.value=void 0,(0,r.B)(this,"value-changed",{value:void 0}),(0,r.B)(this,"change")}async _showPicker(){this.disabled||(this._opened=!0,await this.updateComplete,this._input?.focus(),this._input?.open())}async _openedChanged(e){const t=e.detail.value;this._opened&&!t&&(this._opened=!1,await this.updateComplete,this._anchor?.focus())}static get styles(){return[s.iv`mwc-menu-surface{--mdc-menu-min-width:100%}.container{position:relative;display:block}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:4px;border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:8px;--md-list-item-bottom-space:8px;--md-list-item-leading-space:8px;--md-list-item-trailing-space:8px;--ha-md-list-item-gap:8px;--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}ha-combo-box-item ha-svg-icon[slot=start]{margin:0 4px}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.edit{--mdc-icon-size:20px;width:32px}label{display:block;margin:0 0 8px}.placeholder{color:var(--secondary-text-color);padding:0 8px}`]}constructor(...e){super(...e),this.autofocus=!1,this.disabled=!1,this.required=!1,this.hideClearIcon=!1,this._opened=!1,this._debounceOpenedChanged=(0,_.D)((e=>this._openedChanged(e)),10)}}(0,a.__decorate)([(0,o.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],f.prototype,"autofocus",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],f.prototype,"disabled",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],f.prototype,"required",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean,attribute:"allow-custom-entity"})],f.prototype,"allowCustomEntity",void 0),(0,a.__decorate)([(0,o.Cb)()],f.prototype,"label",void 0),(0,a.__decorate)([(0,o.Cb)()],f.prototype,"value",void 0),(0,a.__decorate)([(0,o.Cb)()],f.prototype,"helper",void 0),(0,a.__decorate)([(0,o.Cb)()],f.prototype,"placeholder",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1,type:Array})],f.prototype,"createDomains",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-domains"})],f.prototype,"includeDomains",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"exclude-domains"})],f.prototype,"excludeDomains",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-device-classes"})],f.prototype,"includeDeviceClasses",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-unit-of-measurement"})],f.prototype,"includeUnitOfMeasurement",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-entities"})],f.prototype,"includeEntities",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"exclude-entities"})],f.prototype,"excludeEntities",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],f.prototype,"entityFilter",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:"hide-clear-icon",type:Boolean})],f.prototype,"hideClearIcon",void 0),(0,a.__decorate)([(0,o.IO)("#anchor")],f.prototype,"_anchor",void 0),(0,a.__decorate)([(0,o.IO)("#input")],f.prototype,"_input",void 0),(0,a.__decorate)([(0,o.SB)()],f.prototype,"_opened",void 0),f=(0,a.__decorate)([(0,o.Mo)("ha-entity-picker")],f),t()}catch(e){t(e)}}))},5865:function(e,t,i){i.d(t,{m:()=>r});var a=i(73742),s=i(59048),o=i(7616);i(993);const r=e=>{switch(e.level){case 0:return"M11,10H13V16H11V10M22,12H19V20H5V12H2L12,3L22,12M15,10A2,2 0 0,0 13,8H11A2,2 0 0,0 9,10V16A2,2 0 0,0 11,18H13A2,2 0 0,0 15,16V10Z";case 1:return"M12,3L2,12H5V20H19V12H22L12,3M10,8H14V18H12V10H10V8Z";case 2:return"M12,3L2,12H5V20H19V12H22L12,3M9,8H13A2,2 0 0,1 15,10V12A2,2 0 0,1 13,14H11V16H15V18H9V14A2,2 0 0,1 11,12H13V10H9V8Z";case 3:return"M12,3L22,12H19V20H5V12H2L12,3M15,11.5V10C15,8.89 14.1,8 13,8H9V10H13V12H11V14H13V16H9V18H13A2,2 0 0,0 15,16V14.5A1.5,1.5 0 0,0 13.5,13A1.5,1.5 0 0,0 15,11.5Z";case-1:return"M12,3L2,12H5V20H19V12H22L12,3M11,15H7V13H11V15M15,18H13V10H11V8H15V18Z"}return"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"};class n extends s.oi{render(){if(this.floor.icon)return s.dy`<ha-icon .icon="${this.floor.icon}"></ha-icon>`;const e=r(this.floor);return s.dy`<ha-svg-icon .path="${e}"></ha-svg-icon>`}}(0,a.__decorate)([(0,o.Cb)({attribute:!1})],n.prototype,"floor",void 0),(0,a.__decorate)([(0,o.Cb)()],n.prototype,"icon",void 0),n=(0,a.__decorate)([(0,o.Mo)("ha-floor-icon")],n)},84480:function(e,t,i){i(81738),i(33480),i(94814),i(22960),i(6989),i(72489);var a=i(73742),s=i(59048),o=i(7616),r=i(28105),n=i(39884),l=i(44272),d=i(56795),h=i(85993),c=i(28905),p=i(55211),_=i(72242);const u=()=>Promise.all([i.e("5696"),i.e("956"),i.e("8062"),i.e("310")]).then(i.bind(i,3343));i(81205),i(12692),i(5865),i(81777);const m="___ADD_NEW___",y="___NO_FLOORS___",v="___ADD_NEW_SUGGESTION___",b=e=>s.dy` <ha-combo-box-item type="button"> <ha-floor-icon slot="start" .floor="${e}"></ha-floor-icon> ${e.name} </ha-combo-box-item> `;class g extends s.oi{async open(){await this.updateComplete,await(this.comboBox?.open())}async focus(){await this.updateComplete,await(this.comboBox?.focus())}updated(e){if(!this._init&&this.hass||this._init&&e.has("_opened")&&this._opened){this._init=!0;const e=this._getFloors(Object.values(this.hass.floors),Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeFloors).map((e=>({...e,strings:[e.floor_id,e.name,...e.aliases]})));this.comboBox.items=e,this.comboBox.filteredItems=e}}render(){return s.dy` <ha-combo-box .hass="${this.hass}" .helper="${this.helper}" item-value-path="floor_id" item-id-path="floor_id" item-label-path="name" .value="${this._value}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.floor-picker.floor"):this.label}" .placeholder="${this.placeholder?this.hass.floors[this.placeholder]?.name:void 0}" .renderer="${b}" @filter-changed="${this._filterChanged}" @opened-changed="${this._openedChanged}" @value-changed="${this._floorChanged}"> </ha-combo-box> `}_filterChanged(e){const t=e.target,i=e.detail.value;if(!i)return void(this.comboBox.filteredItems=this.comboBox.items);const a=(0,d.q)(i,t.items?.filter((e=>![y,m].includes(e.label_id)))||[]);0===a.length?this.noAdd?this.comboBox.filteredItems=[{floor_id:y,name:this.hass.localize("ui.components.floor-picker.no_match"),icon:null,level:null,aliases:[],created_at:0,modified_at:0}]:(this._suggestion=i,this.comboBox.filteredItems=[{floor_id:v,name:this.hass.localize("ui.components.floor-picker.add_new_sugestion",{name:this._suggestion}),icon:"mdi:plus",level:null,aliases:[],created_at:0,modified_at:0}]):this.comboBox.filteredItems=a}get _value(){return this.value||""}_openedChanged(e){this._opened=e.detail.value}_floorChanged(e){e.stopPropagation();let t=e.detail.value;if(t===y)return t="",void this.comboBox.setInputValue("");var i,a;[v,m].includes(t)?(e.target.value=this._value,this.hass.loadFragmentTranslation("config"),i=this,a={suggestedName:t===v?this._suggestion:"",createEntry:async(e,t)=>{try{const i=await(0,p.z3)(this.hass,e);t.forEach((e=>{(0,h.IO)(this.hass,e,{floor_id:i.floor_id})}));const a=[...Object.values(this.hass.floors),i];this.comboBox.filteredItems=this._getFloors(a,Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeFloors),await this.updateComplete,await this.comboBox.updateComplete,this._setValue(i.floor_id)}catch(e){(0,_.Ys)(this,{title:this.hass.localize("ui.components.floor-picker.failed_create_floor"),text:e.message})}}},(0,n.B)(i,"show-dialog",{dialogTag:"dialog-floor-registry-detail",dialogImport:u,dialogParams:a}),this._suggestion=void 0,this.comboBox.setInputValue("")):t!==this._value&&this._setValue(t)}_setValue(e){this.value=e,setTimeout((()=>{(0,n.B)(this,"value-changed",{value:e}),(0,n.B)(this,"change")}),0)}constructor(...e){super(...e),this.noAdd=!1,this.disabled=!1,this.required=!1,this._init=!1,this._getFloors=(0,r.Z)(((e,t,i,a,s,o,r,n,d,h,_)=>{let u,v,b={};(s||o||r||n||d)&&(b=(0,c.R6)(a),u=i,v=a.filter((e=>e.area_id)),s&&(u=u.filter((e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some((e=>s.includes((0,l.M)(e.entity_id))))})),v=v.filter((e=>s.includes((0,l.M)(e.entity_id))))),o&&(u=u.filter((e=>{const t=b[e.id];return!t||!t.length||a.every((e=>!o.includes((0,l.M)(e.entity_id))))})),v=v.filter((e=>!o.includes((0,l.M)(e.entity_id))))),r&&(u=u.filter((e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&(t.attributes.device_class&&r.includes(t.attributes.device_class))}))})),v=v.filter((e=>{const t=this.hass.states[e.entity_id];return t.attributes.device_class&&r.includes(t.attributes.device_class)}))),n&&(u=u.filter((e=>n(e)))),d&&(u=u.filter((e=>{const t=b[e.id];return!(!t||!t.length)&&b[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&d(t)}))})),v=v.filter((e=>{const t=this.hass.states[e.entity_id];return!!t&&d(t)}))));let g,f=e;if(u&&(g=u.filter((e=>e.area_id)).map((e=>e.area_id))),v&&(g=(g??[]).concat(v.filter((e=>e.area_id)).map((e=>e.area_id)))),g){const e=(0,p.N5)(t);f=f.filter((t=>e[t.floor_id]?.some((e=>g.includes(e.area_id)))))}return _&&(f=f.filter((e=>!_.includes(e.floor_id)))),f.length||(f=[{floor_id:y,name:this.hass.localize("ui.components.floor-picker.no_floors"),icon:null,level:null,aliases:[],created_at:0,modified_at:0}]),h?f:[...f,{floor_id:m,name:this.hass.localize("ui.components.floor-picker.add_new"),icon:"mdi:plus",level:null,aliases:[],created_at:0,modified_at:0}]}))}}(0,a.__decorate)([(0,o.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,a.__decorate)([(0,o.Cb)()],g.prototype,"label",void 0),(0,a.__decorate)([(0,o.Cb)()],g.prototype,"value",void 0),(0,a.__decorate)([(0,o.Cb)()],g.prototype,"helper",void 0),(0,a.__decorate)([(0,o.Cb)()],g.prototype,"placeholder",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean,attribute:"no-add"})],g.prototype,"noAdd",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-domains"})],g.prototype,"includeDomains",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"exclude-domains"})],g.prototype,"excludeDomains",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"include-device-classes"})],g.prototype,"includeDeviceClasses",void 0),(0,a.__decorate)([(0,o.Cb)({type:Array,attribute:"exclude-floor"})],g.prototype,"excludeFloors",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],g.prototype,"deviceFilter",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],g.prototype,"entityFilter",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],g.prototype,"disabled",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],g.prototype,"required",void 0),(0,a.__decorate)([(0,o.SB)()],g.prototype,"_opened",void 0),(0,a.__decorate)([(0,o.IO)("ha-combo-box",!0)],g.prototype,"comboBox",void 0),g=(0,a.__decorate)([(0,o.Mo)("ha-floor-picker")],g)},55211:function(e,t,i){i.d(t,{N5:()=>s,z3:()=>a});i(2394),i(36221),i(44435);const a=(e,t)=>e.callWS({type:"config/floor_registry/create",...t}),s=e=>{const t={};for(const i of e)i.floor_id&&(i.floor_id in t||(t[i.floor_id]=[]),t[i.floor_id].push(i));return t}},92523:function(e,t,i){i.d(t,{Ft:()=>a,S$:()=>s,sy:()=>o});const a="timestamp",s="temperature",o="humidity"},14065:function(e,t,i){i.a(e,(async function(e,a){try{i.r(t);var s=i(73742),o=i(59048),r=i(7616),n=i(39884),l=(i(12942),i(79160),i(82911),i(55245),i(84480),i(55228)),d=(i(37492),i(6330),i(85993)),h=i(95814),c=i(92523),p=i(72242),_=i(83378),u=e([l]);l=(u.then?(await u)():u)[0];const m={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78},y=["sensor"],v=[c.S$],b=[c.sy];class g extends o.oi{async showDialog(e){this._params=e,this._error=void 0,this._params.entry?(this._name=this._params.entry.name,this._aliases=this._params.entry.aliases,this._labels=this._params.entry.labels,this._picture=this._params.entry.picture,this._icon=this._params.entry.icon,this._floor=this._params.entry.floor_id,this._temperatureEntity=this._params.entry.temperature_entity_id,this._humidityEntity=this._params.entry.humidity_entity_id):(this._name=this._params.suggestedName||"",this._aliases=[],this._labels=[],this._picture=null,this._icon=null,this._floor=null,this._temperatureEntity=null,this._humidityEntity=null),await this.updateComplete}closeDialog(){this._error="",this._params=void 0,(0,n.B)(this,"dialog-closed",{dialog:this.localName})}_renderSettings(e){return o.dy` ${e?o.dy` <ha-settings-row> <span slot="heading"> ${this.hass.localize("ui.panel.config.areas.editor.area_id")} </span> <span slot="description"> ${e.area_id} </span> </ha-settings-row> `:o.Ld} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .validationMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="${this.hass}" .value="${this._icon}" @value-changed="${this._iconChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.icon")}"></ha-icon-picker> <ha-floor-picker .hass="${this.hass}" .value="${this._floor}" @value-changed="${this._floorChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.floor")}"></ha-floor-picker> <ha-labels-picker .hass="${this.hass}" .value="${this._labels}" @value-changed="${this._labelsChanged}"></ha-labels-picker> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop select-media .cropOptions="${m}" @change="${this._pictureChanged}"></ha-picture-upload> `}_renderAliasExpansion(){return o.dy` <ha-expansion-panel outlined .header="${this.hass.localize("ui.panel.config.areas.editor.aliases_section")}" expanded> <div class="content"> <p class="description"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </p> <ha-aliases-editor .hass="${this.hass}" .aliases="${this._aliases}" @value-changed="${this._aliasesChanged}"></ha-aliases-editor> </div> </ha-expansion-panel> `}_renderRelatedEntitiesExpansion(){return o.dy` <ha-expansion-panel outlined .header="${this.hass.localize("ui.panel.config.areas.editor.related_entities_section")}" expanded> <div class="content"> <ha-entity-picker .hass="${this.hass}" .label="${this.hass.localize("ui.panel.config.areas.editor.temperature_entity")}" .helper="${this.hass.localize("ui.panel.config.areas.editor.temperature_entity_description")}" .value="${this._temperatureEntity}" .includeDomains="${y}" .includeDeviceClasses="${v}" .entityFilter="${this._areaEntityFilter}" @value-changed="${this._sensorChanged}"></ha-entity-picker> <ha-entity-picker .hass="${this.hass}" .label="${this.hass.localize("ui.panel.config.areas.editor.humidity_entity")}" .helper="${this.hass.localize("ui.panel.config.areas.editor.humidity_entity_description")}" .value="${this._humidityEntity}" .includeDomains="${y}" .includeDeviceClasses="${b}" .entityFilter="${this._areaEntityFilter}" @value-changed="${this._sensorChanged}"></ha-entity-picker> </div> </ha-expansion-panel> `}render(){if(!this._params)return o.Ld;const e=this._params.entry,t=!this._isNameValid(),i=!e;return o.dy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,_.i)(this.hass,e?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area"))}"> <div> ${this._error?o.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${this._renderSettings(e)} ${this._renderAliasExpansion()} ${i?o.Ld:this._renderRelatedEntitiesExpansion()} </div> </div> ${i?o.Ld:o.dy`<ha-button slot="secondaryAction" destructive @click="${this._deleteArea}"> ${this.hass.localize("ui.common.delete")} </ha-button>`} <div slot="primaryAction"> <ha-button @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button @click="${this._updateEntry}" .disabled="${t||this._submitting}"> ${e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.create")} </ha-button> </div> </ha-dialog> `}_isNameValid(){return""!==this._name.trim()}_nameChanged(e){this._error=void 0,this._name=e.target.value}_floorChanged(e){this._error=void 0,this._floor=e.detail.value}_iconChanged(e){this._error=void 0,this._icon=e.detail.value}_labelsChanged(e){this._error=void 0,this._labels=e.detail.value}_pictureChanged(e){this._error=void 0,this._picture=e.target.value}_aliasesChanged(e){this._aliases=e.detail.value}_sensorChanged(e){this[`_${e.target.includeDeviceClasses[0]}Entity`]=e.detail.value||null}async _updateEntry(){const e=!this._params.entry;this._submitting=!0;try{const t={name:this._name.trim(),picture:this._picture||(e?void 0:null),icon:this._icon||(e?void 0:null),floor_id:this._floor||(e?void 0:null),labels:this._labels||null,aliases:this._aliases,temperature_entity_id:this._temperatureEntity,humidity_entity_id:this._humidityEntity};e?await this._params.createEntry(t):await this._params.updateEntry(t),this.closeDialog()}catch(e){this._error=e.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}async _deleteArea(){if(!this._params?.entry)return;await(0,p.g7)(this,{title:this.hass.localize("ui.panel.config.areas.delete.confirmation_title",{name:this._params.entry.name}),text:this.hass.localize("ui.panel.config.areas.delete.confirmation_text"),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0})&&(await(0,d.qv)(this.hass,this._params.entry.area_id),this.closeDialog())}static get styles(){return[h.yu,o.iv`ha-textfield{display:block}ha-expansion-panel{--expansion-panel-content-padding:0}ha-aliases-editor,ha-entity-picker,ha-expansion-panel,ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload{display:block;margin-bottom:16px}ha-dialog{--mdc-dialog-min-width:min(600px, 100vw)}.content{padding:12px}.description{margin:0 0 16px 0}`]}constructor(...e){super(...e),this._areaEntityFilter=e=>{const t=this.hass.entities[e.entity_id];if(!t)return!1;const i=this._params.entry.area_id;if(t.area_id===i)return!0;if(!t.device_id)return!1;const a=this.hass.devices[t.device_id];return a&&a.area_id===i}}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_name",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_aliases",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_labels",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_picture",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_icon",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_floor",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_temperatureEntity",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_humidityEntity",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_error",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_params",void 0),(0,s.__decorate)([(0,r.SB)()],g.prototype,"_submitting",void 0),customElements.define("dialog-area-registry-detail",g),a()}catch(e){a(e)}}))}};
//# sourceMappingURL=8766.8be0e319e3076894.js.map