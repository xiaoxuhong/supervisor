export const __webpack_ids__=["7307"];export const __webpack_modules__={39257:function(e,t,i){i.a(e,(async function(e,r){try{i.r(t),i.d(t,{FlowPreviewGeneric:()=>c});var s=i(73742),o=i(59048),_=i(7616),a=i(15566),d=i(55925),n=i(87639),p=i(39884),h=(i(12942),e([d]));d=(h.then?(await h)():h)[0];class c extends o.oi{disconnectedCallback(){super.disconnectedCallback(),this._unsub&&(this._unsub.then((e=>e())),this._unsub=void 0)}willUpdate(e){e.has("stepData")&&this._debouncedSubscribePreview()}render(){return this._error?o.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:o.dy`<entity-preview-row .hass="${this.hass}" .stateObj="${this._preview}"></entity-preview-row>`}async _subscribePreview(){if(this._unsub&&((await this._unsub)(),this._unsub=void 0),"config_flow"===this.flowType||"options_flow"===this.flowType)try{this._unsub=(0,a.H)(this.hass,this.domain,this.flowId,this.flowType,this.stepData,this._setPreview),(0,p.B)(this,"set-flow-errors",{errors:{}})}catch(e){"string"==typeof e.message?this._error=e.message:(this._error=void 0,(0,p.B)(this,"set-flow-errors",e.message)),this._unsub=void 0,this._preview=void 0}}constructor(...e){super(...e),this._setPreview=e=>{const t=(new Date).toISOString();this._preview={entity_id:`${this.stepId}.___flow_preview___`,last_changed:t,last_updated:t,context:{id:"",parent_id:null,user_id:null},...e}},this._debouncedSubscribePreview=(0,n.D)((()=>{this._subscribePreview()}),250)}}(0,s.__decorate)([(0,_.Cb)({attribute:!1})],c.prototype,"hass",void 0),(0,s.__decorate)([(0,_.Cb)({attribute:!1})],c.prototype,"flowType",void 0),(0,s.__decorate)([(0,_.Cb)()],c.prototype,"domain",void 0),(0,s.__decorate)([(0,_.Cb)({attribute:!1})],c.prototype,"stepId",void 0),(0,s.__decorate)([(0,_.Cb)({attribute:!1})],c.prototype,"flowId",void 0),(0,s.__decorate)([(0,_.Cb)({attribute:!1})],c.prototype,"stepData",void 0),(0,s.__decorate)([(0,_.SB)()],c.prototype,"_preview",void 0),(0,s.__decorate)([(0,_.SB)()],c.prototype,"_error",void 0),c=(0,s.__decorate)([(0,_.Mo)("flow-preview-generic")],c),r()}catch(e){r(e)}}))}};
//# sourceMappingURL=7307.da3d290c3f2d4da4.js.map