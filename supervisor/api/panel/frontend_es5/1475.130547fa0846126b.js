/*! For license information please see 1475.130547fa0846126b.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["1475"],{63461:function(t,e,i){i.a(t,(async function(t,e){try{i(39710),i(26847),i(2394),i(18574),i(81738),i(94814),i(22960),i(6989),i(1455),i(56389),i(20655),i(27530);var s=i(73742),o=i(39230),a=i(59048),r=i(7616),n=i(28105),d=i(45332),l=i(39884),c=i(86420),h=i(58125),p=i(23378),u=i(15459),v=i(51574),b=i(36221),_=i(97050),y=i(96222),m=i(7214),f=i(87489),g=i(81205),C=(i(12692),i(993),i(23476)),$=i(42399),x=t([g,C]);[g,C]=x.then?(await x)():x;let w,L,M,O,I,k,B=t=>t;const S="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z",P="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",V="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",U="___missing-entity___",E=["entity","external","no_state"];class H extends a.oi{firstUpdated(t){super.firstUpdated(t),this.hass.loadBackendTranslation("title")}async open(){var t;await this.updateComplete,await(null===(t=this.comboBox)||void 0===t?void 0:t.open())}async focus(){var t;await this.updateComplete,await(null===(t=this.comboBox)||void 0===t?void 0:t.focus())}shouldUpdate(t){return!!(t.has("value")||t.has("label")||t.has("disabled"))||!(!t.has("_opened")&&this._opened)}willUpdate(t){(!this.hasUpdated&&!this.statisticIds||t.has("statisticTypes"))&&this._getStatisticIds(),this.statisticIds&&(!this._initialItems||t.has("_opened")&&this._opened)&&(this._items=this._getItems(this._opened,this.hass,this.statisticIds,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.entitiesOnly,this.excludeStatistics,this.value),this._initialItems&&(this.comboBox.filteredItems=this._items),this._initialItems=!0)}render(){return 0===this._items.length?a.Ld:(0,a.dy)(w||(w=B` <ha-combo-box item-id-path="id" item-value-path="id" item-label-path="label" .hass="${0}" .label="${0}" .value="${0}" .renderer="${0}" .disabled="${0}" .allowCustomValue="${0}" .filteredItems="${0}" @opened-changed="${0}" @value-changed="${0}" @filter-changed="${0}"></ha-combo-box> `),this.hass,void 0===this.label&&this.hass?this.hass.localize("ui.components.statistic-picker.statistic"):this.label,this._value,this._rowRenderer,this.disabled,this.allowCustomEntity,this._items,this._openedChanged,this._statisticChanged,this._filterChanged)}async _getStatisticIds(){this.statisticIds=await(0,m.uR)(this.hass,this.statisticTypes)}get _value(){return this.value||""}_statisticChanged(t){t.stopPropagation();let e=t.detail.value;e===U&&(e="",window.open((0,$.R)(this.hass,this.helpMissingEntityUrl),"_blank")),e!==this._value&&this._setValue(e)}_openedChanged(t){this._opened=t.detail.value}_filterChanged(t){if(!this._opened)return;const e=t.target,i=t.detail.value.trim().toLowerCase(),s=this._fuseIndex(this._items),o=new f.J(this._items,{},s).multiTermsSearch(i);e.filteredItems=o?o.map((t=>t.item)):this._items}_setValue(t){this.value=t,setTimeout((()=>{(0,l.B)(this,"value-changed",{value:t}),(0,l.B)(this,"change")}),0)}constructor(...t){super(...t),this.disabled=!1,this.entitiesOnly=!1,this.helpMissingEntityUrl="/more-info/statistics/",this._opened=!1,this._initialItems=!1,this._items=[],this._rowRenderer=(t,{index:e})=>{var i;const s=null===(i=this.hass.userData)||void 0===i?void 0:i.showEntityIdPicker;return(0,a.dy)(L||(L=B` <ha-combo-box-item type="button" compact="compact" .borderTop="${0}"> ${0} <span slot="headline">${0} </span> ${0} ${0} </ha-combo-box-item> `),0!==e,t.icon_path?(0,a.dy)(M||(M=B` <ha-svg-icon style="margin:0 4px" slot="start" .path="${0}"></ha-svg-icon> `),t.icon_path):t.stateObj?(0,a.dy)(O||(O=B` <state-badge slot="start" .stateObj="${0}" .hass="${0}"></state-badge> `),t.stateObj,this.hass):a.Ld,t.primary,t.secondary?(0,a.dy)(I||(I=B`<span slot="supporting-text">${0}</span>`),t.secondary):a.Ld,t.id&&s?(0,a.dy)(k||(k=B`<span slot="supporting-text" class="code"> ${0} </span>`),t.statistic_id):a.Ld)},this._getItems=(0,n.Z)(((t,e,i,s,o,a,r,n,l)=>{if(!i.length)return[{id:"",label:"",primary:this.hass.localize("ui.components.statistic-picker.no_statistics")}];if(s){const t=(0,d.r)(s);i=i.filter((e=>t.includes(e.statistics_unit_of_measurement)))}if(o){const t=(0,d.r)(o);i=i.filter((e=>t.includes(e.unit_class)))}if(a){const t=(0,d.r)(a);i=i.filter((e=>{const i=this.hass.states[e.statistic_id];return!i||t.includes(i.attributes.device_class||"")}))}const f=(0,_.HE)(this.hass),g=[];return i.forEach((t=>{if(n&&t.statistic_id!==l&&n.includes(t.statistic_id))return;const i=this.hass.states[t.statistic_id];if(!i){if(!r){const e=t.statistic_id,i=(0,m.Kd)(this.hass,t.statistic_id,t),s=t.statistic_id.includes(":")&&!t.statistic_id.includes(".")?"external":"no_state";if("no_state"===s)g.push({id:e,primary:i,secondary:this.hass.localize("ui.components.statistic-picker.no_state"),label:"",type:s,sorting_label:i,search_labels:[i,e],icon_path:V});else if("external"===s){const t=e.split(":")[0],o=(0,y.Lh)(this.hass.localize,t);g.push({id:e,statistic_id:e,primary:i,secondary:o,label:"",type:s,sorting_label:i,search_labels:[i,o,e],icon_path:S})}}return}const s=t.statistic_id,{area:o,device:a}=(0,v.U)(i,e),d=(0,u.C)(i),b=(0,p.K)(i,e),_=a?(0,h.jL)(a):void 0,C=o?(0,c.D)(o):void 0,$=b||_||s,x=[C,b?_:void 0].filter(Boolean).join(f?" ◂ ":" ▸ ");g.push({id:s,statistic_id:s,label:"",primary:$,secondary:x,stateObj:i,type:"entity",sorting_label:[_,b].join("_"),search_labels:[b,_,C,d,s].filter(Boolean)})})),g.length?(g.length>1&&g.sort(((t,e)=>{const i=E.indexOf(t.type||"no_state"),s=E.indexOf(e.type||"no_state");return(0,b.fe)(`${i}_${t.sorting_label||""}`,`${s}_${e.sorting_label||""}`,this.hass.locale.language)})),g.push({id:U,primary:this.hass.localize("ui.components.statistic-picker.missing_entity"),label:"",icon_path:P}),g):[{id:"",primary:this.hass.localize("ui.components.statistic-picker.no_match"),label:""}]})),this._fuseIndex=(0,n.Z)((t=>o.Z.createIndex(["search_labels"],t)))}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],H.prototype,"hass",void 0),(0,s.__decorate)([(0,r.Cb)()],H.prototype,"label",void 0),(0,s.__decorate)([(0,r.Cb)()],H.prototype,"value",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"statistic-types"})],H.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean,attribute:"allow-custom-entity"})],H.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:!1,type:Array})],H.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean})],H.prototype,"disabled",void 0),(0,s.__decorate)([(0,r.Cb)({type:Array,attribute:"include-statistics-unit-of-measurement"})],H.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"include-unit-class"})],H.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"include-device-class"})],H.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean,attribute:"entities-only"})],H.prototype,"entitiesOnly",void 0),(0,s.__decorate)([(0,r.Cb)({type:Array,attribute:"exclude-statistics"})],H.prototype,"excludeStatistics",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:!1})],H.prototype,"helpMissingEntityUrl",void 0),(0,s.__decorate)([(0,r.SB)()],H.prototype,"_opened",void 0),(0,s.__decorate)([(0,r.IO)("ha-combo-box",!0)],H.prototype,"comboBox",void 0),H=(0,s.__decorate)([(0,r.Mo)("ha-statistic-combo-box")],H),e()}catch(w){e(w)}}))},59342:function(t,e,i){i.a(t,(async function(t,e){try{i(39710),i(26847),i(81738),i(29981),i(1455),i(56389),i(27530);var s=i(73742),o=i(59048),a=i(7616),r=i(28105),n=i(39884),d=i(98921),l=i(86420),c=i(58125),h=i(23378),p=i(51574),u=i(97050),v=i(87639),b=i(96222),_=i(7214),y=(i(12692),i(81777),i(993),i(32918)),m=i(63461),f=i(23476),g=t([y,m,f]);[y,m,f]=g.then?(await g)():g;let C,$,x,w,L,M,O,I,k,B,S,P,V=t=>t;const U="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z",E="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",H="M7,10L12,15L17,10H7Z",z="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z";class T extends o.oi{willUpdate(t){(!this.hasUpdated&&!this.statisticIds||t.has("statisticTypes"))&&this._getStatisticIds()}async _getStatisticIds(){this.statisticIds=await(0,_.uR)(this.hass,this.statisticTypes)}_renderContent(){const t=this.value||"";var e;if(!this.value)return(0,o.dy)(C||(C=V` <span slot="headline" class="placeholder">${0}</span> <ha-svg-icon class="edit" slot="end" .path="${0}"></ha-svg-icon> `),null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.statistic-picker.placeholder"),H);const i=this._computeItem(t),s=!this.required&&!this.disabled&&!this.hideClearIcon;return(0,o.dy)($||($=V` ${0} <span slot="headline">${0}</span> ${0} ${0} <ha-svg-icon class="edit" slot="end" .path="${0}"></ha-svg-icon> `),i.stateObj?(0,o.dy)(x||(x=V` <state-badge .hass="${0}" .stateObj="${0}" slot="start"></state-badge> `),this.hass,i.stateObj):i.iconPath?(0,o.dy)(w||(w=V`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),i.iconPath):o.Ld,i.primary,i.secondary?(0,o.dy)(L||(L=V`<span slot="supporting-text">${0}</span>`),i.secondary):o.Ld,s?(0,o.dy)(M||(M=V`<ha-icon-button class="clear" slot="end" @click="${0}" .path="${0}"></ha-icon-button>`),this._clear,E):o.Ld,H)}_computeItem(t){const e=this.hass.states[t];if(e){const{area:i,device:s}=(0,p.U)(e,this.hass),o=(0,h.K)(e,this.hass),a=s?(0,c.jL)(s):void 0,r=i?(0,l.D)(i):void 0,n=(0,u.HE)(this.hass);return{primary:o||a||t,secondary:[r,o?a:void 0].filter(Boolean).join(n?" ◂ ":" ▸ "),stateObj:e}}const i=this.statisticIds?this._statisticMetaData(t,this.statisticIds):void 0;if(i){if("external"===(t.includes(":")&&!t.includes(".")?"external":"no_state")){const e=(0,_.Kd)(this.hass,t,i),s=t.split(":")[0];return{primary:e,secondary:(0,b.Lh)(this.hass.localize,s),iconPath:U}}}return{primary:t,iconPath:z}}render(){return(0,o.dy)(O||(O=V` ${0} <div class="container"> ${0} ${0} </div> `),this.label?(0,o.dy)(I||(I=V`<label>${0}</label>`),this.label):o.Ld,this._opened?(0,o.dy)(B||(B=V` <ha-statistic-combo-box id="input" .hass="${0}" .autofocus="${0}" .allowCustomEntity="${0}" .label="${0}" .value="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .includeDeviceClass="${0}" .statisticTypes="${0}" .statisticIds="${0}" .excludeStatistics="${0}" hide-clear-icon @opened-changed="${0}" @input="${0}"></ha-statistic-combo-box> `),this.hass,this.autofocus,this.allowCustomEntity,this.hass.localize("ui.common.search"),this.value,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.statisticTypes,this.statisticIds,this.excludeStatistics,this._debounceOpenedChanged,d.U):(0,o.dy)(k||(k=V` <ha-combo-box-item .disabled="${0}" id="anchor" type="button" compact="compact" @click="${0}"> ${0} </ha-combo-box-item> `),this.disabled,this._showPicker,this._renderContent()),this._renderHelper())}_renderHelper(){return this.helper?(0,o.dy)(S||(S=V`<ha-input-helper-text>${0}</ha-input-helper-text>`),this.helper):o.Ld}_clear(t){t.stopPropagation(),this.value=void 0,(0,n.B)(this,"value-changed",{value:void 0}),(0,n.B)(this,"change")}async _showPicker(){var t,e;this.disabled||(this._opened=!0,await this.updateComplete,null===(t=this._input)||void 0===t||t.focus(),null===(e=this._input)||void 0===e||e.open())}async _openedChanged(t){const e=t.detail.value;var i;this._opened&&!e&&(this._opened=!1,await this.updateComplete,null===(i=this._anchor)||void 0===i||i.focus())}static get styles(){return[(0,o.iv)(P||(P=V`.container{position:relative;display:block}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:4px;border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:8px;--md-list-item-bottom-space:8px;--md-list-item-leading-space:8px;--md-list-item-trailing-space:8px;--ha-md-list-item-gap:8px;--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}ha-combo-box-item ha-svg-icon[slot=start]{margin:0 4px}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.edit{--mdc-icon-size:20px;width:32px}label{display:block;margin:0 0 8px}.placeholder{color:var(--secondary-text-color);padding:0 8px}`))]}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this.entitiesOnly=!1,this.hideClearIcon=!1,this._opened=!1,this._statisticMetaData=(0,r.Z)(((t,e)=>{if(e)return e.find((e=>e.statistic_id===t))})),this._debounceOpenedChanged=(0,v.D)((t=>this._openedChanged(t)),10)}}(0,s.__decorate)([(0,a.Cb)({attribute:!1})],T.prototype,"hass",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean})],T.prototype,"autofocus",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean})],T.prototype,"disabled",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean})],T.prototype,"required",void 0),(0,s.__decorate)([(0,a.Cb)()],T.prototype,"label",void 0),(0,s.__decorate)([(0,a.Cb)()],T.prototype,"value",void 0),(0,s.__decorate)([(0,a.Cb)()],T.prototype,"helper",void 0),(0,s.__decorate)([(0,a.Cb)()],T.prototype,"placeholder",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"statistic-types"})],T.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean,attribute:"allow-custom-entity"})],T.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:!1,type:Array})],T.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,a.Cb)({type:Array,attribute:"include-statistics-unit-of-measurement"})],T.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"include-unit-class"})],T.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"include-device-class"})],T.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean,attribute:"entities-only"})],T.prototype,"entitiesOnly",void 0),(0,s.__decorate)([(0,a.Cb)({type:Array,attribute:"exclude-statistics"})],T.prototype,"excludeStatistics",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"hide-clear-icon",type:Boolean})],T.prototype,"hideClearIcon",void 0),(0,s.__decorate)([(0,a.IO)("#anchor")],T.prototype,"_anchor",void 0),(0,s.__decorate)([(0,a.IO)("#input")],T.prototype,"_input",void 0),(0,s.__decorate)([(0,a.SB)()],T.prototype,"_opened",void 0),T=(0,s.__decorate)([(0,a.Mo)("ha-statistic-picker")],T),e()}catch(C){e(C)}}))},23395:function(t,e,i){i.a(t,(async function(t,e){try{i(39710),i(26847),i(81738),i(94814),i(6989),i(1455),i(56389),i(27530);var s=i(73742),o=i(59048),a=i(7616),r=i(88245),n=i(39884),d=i(59342),l=t([d]);d=(l.then?(await l)():l)[0];let c,h,p,u,v=t=>t;class b extends o.oi{render(){if(!this.hass)return o.Ld;const t=this.ignoreRestrictionsOnFirstStatistic&&this._currentStatistics.length<=1,e=t?void 0:this.includeStatisticsUnitOfMeasurement,i=t?void 0:this.includeUnitClass,s=t?void 0:this.includeDeviceClass,a=t?void 0:this.statisticTypes;return(0,o.dy)(c||(c=v` ${0} ${0} <div> <ha-statistic-picker .hass="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .includeDeviceClass="${0}" .statisticTypes="${0}" .statisticIds="${0}" .placeholder="${0}" .excludeStatistics="${0}" .allowCustomEntity="${0}" @value-changed="${0}"></ha-statistic-picker> </div> `),this.label?(0,o.dy)(h||(h=v`<label>${0}</label>`),this.label):o.Ld,(0,r.r)(this._currentStatistics,(t=>t),(t=>(0,o.dy)(p||(p=v` <div> <ha-statistic-picker .curValue="${0}" .hass="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .includeDeviceClass="${0}" .value="${0}" .statisticTypes="${0}" .statisticIds="${0}" .excludeStatistics="${0}" .allowCustomEntity="${0}" @value-changed="${0}"></ha-statistic-picker> </div> `),t,this.hass,e,i,s,t,a,this.statisticIds,this.value,this.allowCustomEntity,this._statisticChanged))),this.hass,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.statisticTypes,this.statisticIds,this.placeholder,this.value,this.allowCustomEntity,this._addStatistic)}get _currentStatistics(){return this.value||[]}async _updateStatistics(t){this.value=t,(0,n.B)(this,"value-changed",{value:t})}_statisticChanged(t){t.stopPropagation();const e=t.currentTarget.curValue,i=t.detail.value;if(i===e)return;const s=this._currentStatistics;i&&!s.includes(i)?this._updateStatistics(s.map((t=>t===e?i:t))):this._updateStatistics(s.filter((t=>t!==e)))}async _addStatistic(t){t.stopPropagation();const e=t.detail.value;if(!e)return;if(t.currentTarget.value="",!e)return;const i=this._currentStatistics;i.includes(e)||this._updateStatistics([...i,e])}constructor(...t){super(...t),this.ignoreRestrictionsOnFirstStatistic=!1}}b.styles=(0,o.iv)(u||(u=v`:host{width:200px;display:block}ha-statistic-picker{display:block;width:100%;margin-top:8px}label{display:block;margin-bottom:0 0 8px}`)),(0,s.__decorate)([(0,a.Cb)({attribute:!1})],b.prototype,"hass",void 0),(0,s.__decorate)([(0,a.Cb)({type:Array})],b.prototype,"value",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:!1,type:Array})],b.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"statistic-types"})],b.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,a.Cb)({type:String})],b.prototype,"label",void 0),(0,s.__decorate)([(0,a.Cb)({type:String})],b.prototype,"placeholder",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean,attribute:"allow-custom-entity"})],b.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"include-statistics-unit-of-measurement"})],b.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"include-unit-class"})],b.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,a.Cb)({attribute:"include-device-class"})],b.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,a.Cb)({type:Boolean,attribute:"ignore-restrictions-on-first-statistic"})],b.prototype,"ignoreRestrictionsOnFirstStatistic",void 0),b=(0,s.__decorate)([(0,a.Mo)("ha-statistics-picker")],b),e()}catch(c){e(c)}}))},12692:function(t,e,i){i(26847),i(27530);var s=i(73742),o=i(59048),a=i(7616),r=i(53898);let n;class d extends r.t{constructor(...t){super(...t),this.borderTop=!1}}d.styles=[...r.C,(0,o.iv)(n||(n=(t=>t)`:host{--md-list-item-one-line-container-height:48px;--md-list-item-two-line-container-height:64px}:host([border-top]) md-item{border-top:1px solid var(--divider-color)}[slot=start]{--state-icon-color:var(--secondary-text-color)}[slot=headline]{line-height:22px;font-size:14px;white-space:nowrap}[slot=supporting-text]{line-height:18px;font-size:12px;white-space:nowrap}::slotted(img),::slotted(state-badge){width:32px;height:32px}::slotted(.code){font-family:var(--ha-font-family-code);font-size:var(--ha-font-size-xs)}::slotted(.domain){font-size:var(--ha-font-size-s);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal);align-self:flex-end;max-width:30%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}`))],(0,s.__decorate)([(0,a.Cb)({type:Boolean,reflect:!0,attribute:"border-top"})],d.prototype,"borderTop",void 0),d=(0,s.__decorate)([(0,a.Mo)("ha-combo-box-item")],d)},81205:function(t,e,i){i.a(t,(async function(t,e){try{i(26847),i(81738),i(22960),i(1455),i(27530);var s=i(73742),o=i(4816),a=i(5335),r=i(18464),n=i(59048),d=i(7616),l=i(25191),c=i(39884),h=(i(12692),i(81777),i(37492),t([a]));a=(h.then?(await h)():h)[0];let p,u,v,b,_,y,m=t=>t;const f="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",g="M7,10L12,15L17,10H7Z",C="M7,15L12,10L17,15H7Z";(0,r.hC)("vaadin-combo-box-item",(0,n.iv)(p||(p=m`:host{padding:0!important}:host([focused]:not([disabled])){background-color:rgba(var(--rgb-primary-text-color,0,0,0),.12)}:host([selected]:not([disabled])){background-color:transparent;color:var(--mdc-theme-primary);--mdc-ripple-color:var(--mdc-theme-primary);--mdc-theme-text-primary-on-background:var(--mdc-theme-primary)}:host([selected]:not([disabled])):before{background-color:var(--mdc-theme-primary);opacity:.12;content:"";position:absolute;top:0;left:0;width:100%;height:100%}:host([selected][focused]:not([disabled])):before{opacity:.24}:host(:hover:not([disabled])){background-color:transparent}[part=content]{width:100%}[part=checkmark]{display:none}`)));class $ extends n.oi{async open(){var t;await this.updateComplete,null===(t=this._comboBox)||void 0===t||t.open()}async focus(){var t,e;await this.updateComplete,await(null===(t=this._inputElement)||void 0===t?void 0:t.updateComplete),null===(e=this._inputElement)||void 0===e||e.focus()}disconnectedCallback(){super.disconnectedCallback(),this._overlayMutationObserver&&(this._overlayMutationObserver.disconnect(),this._overlayMutationObserver=void 0),this._bodyMutationObserver&&(this._bodyMutationObserver.disconnect(),this._bodyMutationObserver=void 0)}get selectedItem(){return this._comboBox.selectedItem}setInputValue(t){this._comboBox.value=t}setTextFieldValue(t){this._inputElement.value=t}render(){var t;return(0,n.dy)(u||(u=m` <vaadin-combo-box-light .itemValuePath="${0}" .itemIdPath="${0}" .itemLabelPath="${0}" .items="${0}" .value="${0}" .filteredItems="${0}" .dataProvider="${0}" .allowCustomValue="${0}" .disabled="${0}" .required="${0}" ${0} @opened-changed="${0}" @filter-changed="${0}" @value-changed="${0}" attr-for-value="value"> <ha-textfield label="${0}" placeholder="${0}" ?disabled="${0}" ?required="${0}" validationMessage="${0}" .errorMessage="${0}" class="input" autocapitalize="none" autocomplete="off" autocorrect="off" input-spellcheck="false" .suffix="${0}" .icon="${0}" .invalid="${0}" .helper="${0}" helperPersistent> <slot name="icon" slot="leadingIcon"></slot> </ha-textfield> ${0} <ha-svg-icon role="button" tabindex="-1" aria-label="${0}" aria-expanded="${0}" class="toggle-button" .path="${0}" ?disabled="${0}" @click="${0}"></ha-svg-icon> </vaadin-combo-box-light> `),this.itemValuePath,this.itemIdPath,this.itemLabelPath,this.items,this.value||"",this.filteredItems,this.dataProvider,this.allowCustomValue,this.disabled,this.required,(0,o.t)(this.renderer||this._defaultRowRenderer),this._openedChanged,this._filterChanged,this._valueChanged,(0,l.o)(this.label),(0,l.o)(this.placeholder),this.disabled,this.required,(0,l.o)(this.validationMessage),this.errorMessage,(0,n.dy)(v||(v=m`<div style="width:28px" role="none presentation"></div>`)),this.icon,this.invalid,this.helper,this.value&&!this.hideClearIcon?(0,n.dy)(b||(b=m`<ha-svg-icon role="button" tabindex="-1" aria-label="${0}" class="clear-button" .path="${0}" @click="${0}"></ha-svg-icon>`),(0,l.o)(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.clear")),f,this._clearValue):"",(0,l.o)(this.label),this.opened?"true":"false",this.opened?C:g,this.disabled,this._toggleOpen)}_clearValue(t){t.stopPropagation(),(0,c.B)(this,"value-changed",{value:void 0})}_toggleOpen(t){var e,i;this.opened?(null===(e=this._comboBox)||void 0===e||e.close(),t.stopPropagation()):null===(i=this._comboBox)||void 0===i||i.inputElement.focus()}_openedChanged(t){t.stopPropagation();const e=t.detail.value;if(setTimeout((()=>{this.opened=e}),0),(0,c.B)(this,"opened-changed",{value:t.detail.value}),e){const t=document.querySelector("vaadin-combo-box-overlay");t&&this._removeInert(t),this._observeBody()}else{var i;null===(i=this._bodyMutationObserver)||void 0===i||i.disconnect(),this._bodyMutationObserver=void 0}}_observeBody(){"MutationObserver"in window&&!this._bodyMutationObserver&&(this._bodyMutationObserver=new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{"VAADIN-COMBO-BOX-OVERLAY"===t.nodeName&&this._removeInert(t)})),t.removedNodes.forEach((t=>{var e;"VAADIN-COMBO-BOX-OVERLAY"===t.nodeName&&(null===(e=this._overlayMutationObserver)||void 0===e||e.disconnect(),this._overlayMutationObserver=void 0)}))}))})),this._bodyMutationObserver.observe(document.body,{childList:!0}))}_removeInert(t){var e;if(t.inert)return t.inert=!1,null===(e=this._overlayMutationObserver)||void 0===e||e.disconnect(),void(this._overlayMutationObserver=void 0);"MutationObserver"in window&&!this._overlayMutationObserver&&(this._overlayMutationObserver=new MutationObserver((t=>{t.forEach((t=>{if("inert"===t.attributeName){const i=t.target;var e;if(i.inert)null===(e=this._overlayMutationObserver)||void 0===e||e.disconnect(),this._overlayMutationObserver=void 0,i.inert=!1}}))})),this._overlayMutationObserver.observe(t,{attributes:!0}))}_filterChanged(t){t.stopPropagation(),(0,c.B)(this,"filter-changed",{value:t.detail.value})}_valueChanged(t){t.stopPropagation(),this.allowCustomValue||(this._comboBox._closeOnBlurIsPrevented=!0);const e=t.detail.value;e!==this.value&&(0,c.B)(this,"value-changed",{value:e||void 0})}constructor(...t){super(...t),this.invalid=!1,this.icon=!1,this.allowCustomValue=!1,this.itemValuePath="value",this.itemLabelPath="label",this.disabled=!1,this.required=!1,this.opened=!1,this.hideClearIcon=!1,this._defaultRowRenderer=t=>(0,n.dy)(_||(_=m` <ha-combo-box-item type="button"> ${0} </ha-combo-box-item> `),this.itemLabelPath?t[this.itemLabelPath]:t)}}$.styles=(0,n.iv)(y||(y=m`:host{display:block;width:100%}vaadin-combo-box-light{position:relative;--vaadin-combo-box-overlay-max-height:calc(45vh - 56px)}ha-textfield{width:100%}ha-textfield>ha-icon-button{--mdc-icon-button-size:24px;padding:2px;color:var(--secondary-text-color)}ha-svg-icon{color:var(--input-dropdown-icon-color);position:absolute;cursor:pointer}.toggle-button{right:12px;top:-10px;inset-inline-start:initial;inset-inline-end:12px;direction:var(--direction)}:host([opened]) .toggle-button{color:var(--primary-color)}.toggle-button[disabled]{color:var(--disabled-text-color);pointer-events:none}.clear-button{--mdc-icon-size:20px;top:-7px;right:36px;inset-inline-start:initial;inset-inline-end:36px;direction:var(--direction)}`)),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"hass",void 0),(0,s.__decorate)([(0,d.Cb)()],$.prototype,"label",void 0),(0,s.__decorate)([(0,d.Cb)()],$.prototype,"value",void 0),(0,s.__decorate)([(0,d.Cb)()],$.prototype,"placeholder",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"validationMessage",void 0),(0,s.__decorate)([(0,d.Cb)()],$.prototype,"helper",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:"error-message"})],$.prototype,"errorMessage",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean})],$.prototype,"invalid",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean})],$.prototype,"icon",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"items",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"filteredItems",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"dataProvider",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:"allow-custom-value",type:Boolean})],$.prototype,"allowCustomValue",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:"item-value-path"})],$.prototype,"itemValuePath",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:"item-label-path"})],$.prototype,"itemLabelPath",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:"item-id-path"})],$.prototype,"itemIdPath",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1})],$.prototype,"renderer",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean})],$.prototype,"disabled",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean})],$.prototype,"required",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean,reflect:!0})],$.prototype,"opened",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean,attribute:"hide-clear-icon"})],$.prototype,"hideClearIcon",void 0),(0,s.__decorate)([(0,d.IO)("vaadin-combo-box-light",!0)],$.prototype,"_comboBox",void 0),(0,s.__decorate)([(0,d.IO)("ha-textfield",!0)],$.prototype,"_inputElement",void 0),$=(0,s.__decorate)([(0,d.Mo)("ha-combo-box")],$),e()}catch(p){e(p)}}))},53898:function(t,e,i){i.d(e,{C:()=>l,t:()=>c});var s=i(73742),o=i(74789),a=i(62693),r=i(59048),n=i(7616);let d;const l=[a.W,(0,r.iv)(d||(d=(t=>t)`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`))];class c extends o.d{}c.styles=l,c=(0,s.__decorate)([(0,n.Mo)("ha-md-list-item")],c)},96464:function(t,e,i){i.a(t,(async function(t,s){try{i.r(e),i.d(e,{HaStatisticSelector:()=>u});i(26847),i(27530);var o=i(73742),a=i(59048),r=i(7616),n=i(23395),d=t([n]);n=(d.then?(await d)():d)[0];let l,c,h,p=t=>t;class u extends a.oi{render(){return this.selector.statistic.multiple?(0,a.dy)(c||(c=p` ${0} <ha-statistics-picker .hass="${0}" .value="${0}" .helper="${0}" .disabled="${0}" .required="${0}"></ha-statistics-picker> `),this.label?(0,a.dy)(h||(h=p`<label>${0}</label>`),this.label):"",this.hass,this.value,this.helper,this.disabled,this.required):(0,a.dy)(l||(l=p`<ha-statistic-picker .hass="${0}" .value="${0}" .label="${0}" .helper="${0}" .disabled="${0}" .required="${0}" allow-custom-entity></ha-statistic-picker>`),this.hass,this.value,this.label,this.helper,this.disabled,this.required)}constructor(...t){super(...t),this.disabled=!1,this.required=!0}}(0,o.__decorate)([(0,r.Cb)({attribute:!1})],u.prototype,"hass",void 0),(0,o.__decorate)([(0,r.Cb)({attribute:!1})],u.prototype,"selector",void 0),(0,o.__decorate)([(0,r.Cb)()],u.prototype,"value",void 0),(0,o.__decorate)([(0,r.Cb)()],u.prototype,"label",void 0),(0,o.__decorate)([(0,r.Cb)()],u.prototype,"helper",void 0),(0,o.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"disabled",void 0),(0,o.__decorate)([(0,r.Cb)({type:Boolean})],u.prototype,"required",void 0),u=(0,o.__decorate)([(0,r.Mo)("ha-selector-statistic")],u),s()}catch(l){s(l)}}))},7214:function(t,e,i){i.d(e,{Kd:()=>a,uR:()=>o});i(39710),i(26847),i(81738),i(72489),i(56389),i(27530);var s=i(15459);const o=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),a=(t,e,i)=>{const o=t.states[e];return o?(0,s.C)(o):(null==i?void 0:i.name)||e}},83788:function(t,e,i){i.a(t,(async function(t,e){try{i(26847),i(1455),i(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await i.e("9931").then(i.bind(i,11860))).default),e()}catch(s){e(s)}}),1)},42399:function(t,e,i){i.d(e,{R:()=>s});i(39710),i(56389);const s=(t,e)=>`https://${t.config.version.includes("b")?"rc":t.config.version.includes("dev")?"next":"www"}.home-assistant.io${e}`},88245:function(t,e,i){i.d(e,{r:()=>n});i(40777),i(26847),i(27530);var s=i(35340),o=i(83522),a=i(5277);const r=(t,e,i)=>{const s=new Map;for(let o=e;o<=i;o++)s.set(t[o],o);return s},n=(0,o.XM)(class extends o.Xe{dt(t,e,i){let s;void 0===i?i=e:void 0!==e&&(s=e);const o=[],a=[];let r=0;for(const n of t)o[r]=s?s(n,r):r,a[r]=i(n,r),r++;return{values:a,keys:o}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,o]){var n;const d=(0,a.i9)(t),{values:l,keys:c}=this.dt(e,i,o);if(!Array.isArray(d))return this.ut=c,l;const h=null!==(n=this.ut)&&void 0!==n?n:this.ut=[],p=[];let u,v,b=0,_=d.length-1,y=0,m=l.length-1;for(;b<=_&&y<=m;)if(null===d[b])b++;else if(null===d[_])_--;else if(h[b]===c[y])p[y]=(0,a.fk)(d[b],l[y]),b++,y++;else if(h[_]===c[m])p[m]=(0,a.fk)(d[_],l[m]),_--,m--;else if(h[b]===c[m])p[m]=(0,a.fk)(d[b],l[m]),(0,a._Y)(t,p[m+1],d[b]),b++,m--;else if(h[_]===c[y])p[y]=(0,a.fk)(d[_],l[y]),(0,a._Y)(t,d[b],d[_]),_--,y++;else if(void 0===u&&(u=r(c,y,m),v=r(h,b,_)),u.has(h[b]))if(u.has(h[_])){const e=v.get(c[y]),i=void 0!==e?d[e]:null;if(null===i){const e=(0,a._Y)(t,d[b]);(0,a.fk)(e,l[y]),p[y]=e}else p[y]=(0,a.fk)(i,l[y]),(0,a._Y)(t,d[b],i),d[e]=null;y++}else(0,a.ws)(d[_]),_--;else(0,a.ws)(d[b]),b++;for(;y<=m;){const e=(0,a._Y)(t,p[m+1]);(0,a.fk)(e,l[y]),p[y++]=e}for(;b<=_;){const t=d[b++];null!==t&&(0,a.ws)(t)}return this.ut=c,(0,a.hl)(t,p),s.Jb}constructor(t){if(super(t),t.type!==o.pX.CHILD)throw Error("repeat() can only be used in text expressions")}})},28177:function(t,e,i){i.d(e,{C:()=>p});i(26847),i(81738),i(29981),i(1455),i(27530);var s=i(35340),o=i(5277),a=i(93847);i(84730),i(15411),i(40777);class r{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class n{get(){return this.Y}pause(){var t;null!==(t=this.Y)&&void 0!==t||(this.Y=new Promise((t=>this.Z=t)))}resume(){var t;null!==(t=this.Z)&&void 0!==t&&t.call(this),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var d=i(83522);const l=t=>!(0,o.pt)(t)&&"function"==typeof t.then,c=1073741823;class h extends a.sR{render(...t){var e;return null!==(e=t.find((t=>!l(t))))&&void 0!==e?e:s.Jb}update(t,e){const i=this._$Cbt;let o=i.length;this._$Cbt=e;const a=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let s=0;s<e.length&&!(s>this._$Cwt);s++){const t=e[s];if(!l(t))return this._$Cwt=s,t;s<o&&t===i[s]||(this._$Cwt=c,o=0,Promise.resolve(t).then((async e=>{for(;r.get();)await r.get();const i=a.deref();if(void 0!==i){const s=i._$Cbt.indexOf(t);s>-1&&s<i._$Cwt&&(i._$Cwt=s,i.setValue(e))}})))}return s.Jb}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=c,this._$Cbt=[],this._$CK=new r(this),this._$CX=new n}}const p=(0,d.XM)(h)}}]);
//# sourceMappingURL=1475.130547fa0846126b.js.map